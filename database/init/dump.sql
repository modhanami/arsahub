--
-- PostgreSQL database dump
--

-- Dumped from database version 16.0
-- Dumped by pg_dump version 16.0

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: public_temp; Type: SCHEMA; Schema: -; Owner: pg_database_owner
--

CREATE SCHEMA public_temp;


ALTER SCHEMA public_temp OWNER TO pg_database_owner;

--
-- Name: SCHEMA public_temp; Type: COMMENT; Schema: -; Owner: pg_database_owner
--

COMMENT ON SCHEMA public_temp IS 'standard public schema';


SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: achievement; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.achievement (
    achievement_id bigint NOT NULL,
    title text NOT NULL,
    description text,
    created_at timestamp with time zone DEFAULT now() NOT NULL,
    updated_at timestamp with time zone DEFAULT now() NOT NULL,
    image_url text,
    activity_id bigint NOT NULL
);


ALTER TABLE public.achievement OWNER TO postgres;

--
-- Name: achievement_achievement_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.achievement ALTER COLUMN achievement_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.achievement_achievement_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: achievement_activity_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.achievement_activity_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.achievement_activity_id_seq OWNER TO postgres;

--
-- Name: action; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.action (
    action_id bigint NOT NULL,
    title text NOT NULL,
    description text,
    json_schema jsonb,
    created_at timestamp with time zone DEFAULT now() NOT NULL,
    updated_at timestamp with time zone DEFAULT now() NOT NULL,
    key text NOT NULL
);


ALTER TABLE public.action OWNER TO postgres;

--
-- Name: action_action_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.action ALTER COLUMN action_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.action_action_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: activity; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.activity (
    activity_id bigint NOT NULL,
    title text NOT NULL,
    description text,
    created_at timestamp with time zone DEFAULT now() NOT NULL,
    updated_at timestamp with time zone DEFAULT now() NOT NULL,
    app_id bigint
);


ALTER TABLE public.activity OWNER TO postgres;

--
-- Name: activity_activity_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.activity ALTER COLUMN activity_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.activity_activity_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: app; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.app (
    app_id bigint NOT NULL,
    title text NOT NULL,
    description text,
    api_key text NOT NULL,
    created_at timestamp with time zone DEFAULT now() NOT NULL,
    updated_at timestamp with time zone DEFAULT now() NOT NULL,
    created_by bigint NOT NULL
);


ALTER TABLE public.app OWNER TO postgres;

--
-- Name: app_app_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.app ALTER COLUMN app_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.app_app_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: app_template; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.app_template (
    name text NOT NULL,
    description text,
    app_id bigint NOT NULL,
    app_template_id bigint NOT NULL
);


ALTER TABLE public.app_template OWNER TO postgres;

--
-- Name: app_template_app_template_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.app_template_app_template_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.app_template_app_template_id_seq OWNER TO postgres;

--
-- Name: app_template_app_template_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.app_template_app_template_id_seq OWNED BY public.app_template.app_template_id;


--
-- Name: app_user; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.app_user (
    app_user_id bigint NOT NULL,
    unique_id text NOT NULL,
    display_name text NOT NULL,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    app_id bigint NOT NULL
);


ALTER TABLE public.app_user OWNER TO postgres;

--
-- Name: app_user_activity; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.app_user_activity (
    app_user_activity_id bigint NOT NULL,
    app_user_id bigint NOT NULL,
    activity_id bigint NOT NULL,
    points integer NOT NULL,
    created_at timestamp with time zone DEFAULT now() NOT NULL,
    updated_at timestamp with time zone DEFAULT now() NOT NULL
);


ALTER TABLE public.app_user_activity OWNER TO postgres;

--
-- Name: app_user_activity_achievement; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.app_user_activity_achievement (
    app_user_activity_achievement_id bigint NOT NULL,
    achievement_id bigint NOT NULL,
    app_user_activity_id bigint NOT NULL,
    completed_at timestamp with time zone,
    created_at timestamp with time zone DEFAULT now() NOT NULL,
    updated_at timestamp with time zone DEFAULT now() NOT NULL
);


ALTER TABLE public.app_user_activity_achievement OWNER TO postgres;

--
-- Name: app_user_activity_point_history; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.app_user_activity_point_history (
    app_user_activity_point_history_id bigint NOT NULL,
    app_user_activity_id bigint NOT NULL,
    activity_id bigint NOT NULL,
    points integer NOT NULL,
    created_at timestamp with time zone DEFAULT now() NOT NULL,
    description text
);


ALTER TABLE public.app_user_activity_point_history OWNER TO postgres;

--
-- Name: app_user_activity_progress; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.app_user_activity_progress (
    app_user_activity_progress_id bigint NOT NULL,
    activity_id bigint NOT NULL,
    app_user_activity_id integer NOT NULL,
    unit_id integer NOT NULL,
    progress_value integer NOT NULL,
    created_at timestamp without time zone DEFAULT now() NOT NULL,
    updated_at timestamp without time zone DEFAULT now() NOT NULL
);


ALTER TABLE public.app_user_activity_progress OWNER TO postgres;

--
-- Name: app_user_app_user_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.app_user ALTER COLUMN app_user_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.app_user_app_user_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: custom_unit; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.custom_unit (
    unit_id bigint NOT NULL,
    name text NOT NULL,
    key text NOT NULL,
    created_at timestamp with time zone DEFAULT now() NOT NULL,
    updated_at timestamp with time zone DEFAULT now() NOT NULL
);


ALTER TABLE public.custom_unit OWNER TO postgres;

--
-- Name: custom_unit_unit_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.custom_unit ALTER COLUMN unit_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.custom_unit_unit_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: rule; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.rule (
    rule_id bigint NOT NULL,
    title text NOT NULL,
    description text,
    activity_id bigint NOT NULL,
    created_at timestamp with time zone DEFAULT now() NOT NULL,
    updated_at timestamp with time zone DEFAULT now() NOT NULL,
    trigger_id bigint NOT NULL,
    trigger_type_id bigint,
    action_id bigint NOT NULL,
    trigger_type_params jsonb,
    action_params jsonb,
    trigger_params jsonb
);


ALTER TABLE public.rule OWNER TO postgres;

--
-- Name: rule_progress_streak; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.rule_progress_streak (
    rule_progress_streak_id bigint NOT NULL,
    rule_id bigint NOT NULL,
    user_activity_id bigint NOT NULL,
    current_streak integer NOT NULL,
    last_interaction_at timestamp with time zone NOT NULL,
    created_at timestamp with time zone DEFAULT now() NOT NULL
);


ALTER TABLE public.rule_progress_streak OWNER TO postgres;

--
-- Name: rule_progress_streak_rule_progress_streak_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.rule_progress_streak ALTER COLUMN rule_progress_streak_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.rule_progress_streak_rule_progress_streak_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: rule_progress_times; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.rule_progress_times (
    rule_progress_single_id bigint NOT NULL,
    rule_id bigint NOT NULL,
    user_activity_id bigint NOT NULL,
    progress integer NOT NULL,
    created_at timestamp with time zone DEFAULT now() NOT NULL,
    updated_at timestamp with time zone DEFAULT now() NOT NULL,
    completed_at timestamp with time zone
);


ALTER TABLE public.rule_progress_times OWNER TO postgres;

--
-- Name: rule_progress_times_rule_progress_single_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.rule_progress_times ALTER COLUMN rule_progress_single_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.rule_progress_times_rule_progress_single_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: rule_rule_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.rule ALTER COLUMN rule_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.rule_rule_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: rule_template; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.rule_template (
    rule_template_id bigint NOT NULL,
    name text NOT NULL,
    description text,
    trigger_template_id bigint NOT NULL,
    action_id bigint NOT NULL,
    app_id integer NOT NULL,
    created_at timestamp with time zone DEFAULT now() NOT NULL,
    updated_at timestamp with time zone DEFAULT now() NOT NULL,
    action_params jsonb,
    trigger_params jsonb
);


ALTER TABLE public.rule_template OWNER TO postgres;

--
-- Name: rule_template_rule_template_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.rule_template_rule_template_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.rule_template_rule_template_id_seq OWNER TO postgres;

--
-- Name: rule_template_rule_template_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.rule_template_rule_template_id_seq OWNED BY public.rule_template.rule_template_id;


--
-- Name: trigger; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.trigger (
    trigger_id bigint NOT NULL,
    title text NOT NULL,
    description text,
    created_at timestamp with time zone DEFAULT now() NOT NULL,
    updated_at timestamp with time zone DEFAULT now() NOT NULL,
    key text NOT NULL,
    json_schema jsonb,
    app_id bigint NOT NULL
);


ALTER TABLE public.trigger OWNER TO postgres;

--
-- Name: trigger_template; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.trigger_template (
    title text NOT NULL,
    description text,
    key text NOT NULL,
    json_schema jsonb,
    trigger_template_id bigint NOT NULL,
    app_template_id bigint NOT NULL
);


ALTER TABLE public.trigger_template OWNER TO postgres;

--
-- Name: trigger_template_app_tempalte_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.trigger_template_app_tempalte_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.trigger_template_app_tempalte_id_seq OWNER TO postgres;

--
-- Name: trigger_template_app_tempalte_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.trigger_template_app_tempalte_id_seq OWNED BY public.trigger_template.trigger_template_id;


--
-- Name: trigger_trigger_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.trigger ALTER COLUMN trigger_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.trigger_trigger_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: trigger_type; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.trigger_type (
    trigger_type_id bigint NOT NULL,
    title text NOT NULL,
    description text,
    json_schema jsonb,
    created_at timestamp with time zone DEFAULT now() NOT NULL,
    updated_at timestamp with time zone DEFAULT now() NOT NULL,
    key text NOT NULL
);


ALTER TABLE public.trigger_type OWNER TO postgres;

--
-- Name: trigger_type_trigger_type_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.trigger_type ALTER COLUMN trigger_type_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.trigger_type_trigger_type_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: user; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."user" (
    user_id bigint NOT NULL,
    username text NOT NULL,
    name text NOT NULL,
    created_at timestamp with time zone DEFAULT now() NOT NULL,
    updated_at timestamp with time zone DEFAULT now() NOT NULL,
    uuid uuid DEFAULT gen_random_uuid() NOT NULL
);


ALTER TABLE public."user" OWNER TO postgres;

--
-- Name: user_activity_achievement_user_activity_achievement_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.app_user_activity_achievement ALTER COLUMN app_user_activity_achievement_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.user_activity_achievement_user_activity_achievement_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: user_activity_point_history_user_activity_point_history_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.app_user_activity_point_history ALTER COLUMN app_user_activity_point_history_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.user_activity_point_history_user_activity_point_history_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: user_activity_progress_user_activity_progress_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.app_user_activity_progress ALTER COLUMN app_user_activity_progress_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.user_activity_progress_user_activity_progress_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: user_activity_user_activity_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.app_user_activity ALTER COLUMN app_user_activity_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.user_activity_user_activity_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: user_user_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."user" ALTER COLUMN user_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.user_user_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: achievement; Type: TABLE; Schema: public_temp; Owner: postgres
--

CREATE TABLE public_temp.achievement (
    achievement_id bigint NOT NULL,
    title text NOT NULL,
    description text,
    created_at timestamp with time zone DEFAULT now() NOT NULL,
    updated_at timestamp with time zone DEFAULT now() NOT NULL,
    image_url text,
    activity_id bigint NOT NULL
);


ALTER TABLE public_temp.achievement OWNER TO postgres;

--
-- Name: achievement_achievement_id_seq; Type: SEQUENCE; Schema: public_temp; Owner: postgres
--

ALTER TABLE public_temp.achievement ALTER COLUMN achievement_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public_temp.achievement_achievement_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: achievement_activity_id_seq; Type: SEQUENCE; Schema: public_temp; Owner: postgres
--

CREATE SEQUENCE public_temp.achievement_activity_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public_temp.achievement_activity_id_seq OWNER TO postgres;

--
-- Name: action; Type: TABLE; Schema: public_temp; Owner: postgres
--

CREATE TABLE public_temp.action (
    action_id bigint NOT NULL,
    title text NOT NULL,
    description text,
    json_schema jsonb,
    created_at timestamp with time zone DEFAULT now() NOT NULL,
    updated_at timestamp with time zone DEFAULT now() NOT NULL,
    key text NOT NULL
);


ALTER TABLE public_temp.action OWNER TO postgres;

--
-- Name: action_effect_id_seq; Type: SEQUENCE; Schema: public_temp; Owner: postgres
--

ALTER TABLE public_temp.action ALTER COLUMN action_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public_temp.action_effect_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: activity; Type: TABLE; Schema: public_temp; Owner: postgres
--

CREATE TABLE public_temp.activity (
    activity_id bigint NOT NULL,
    title text NOT NULL,
    description text,
    created_at timestamp with time zone DEFAULT now() NOT NULL,
    updated_at timestamp with time zone DEFAULT now() NOT NULL,
    app_id bigint
);


ALTER TABLE public_temp.activity OWNER TO postgres;

--
-- Name: activity_activity_id_seq; Type: SEQUENCE; Schema: public_temp; Owner: postgres
--

ALTER TABLE public_temp.activity ALTER COLUMN activity_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public_temp.activity_activity_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: app; Type: TABLE; Schema: public_temp; Owner: postgres
--

CREATE TABLE public_temp.app (
    app_id bigint NOT NULL,
    title text NOT NULL,
    description text,
    api_key uuid NOT NULL,
    created_at timestamp with time zone DEFAULT now() NOT NULL,
    updated_at timestamp with time zone DEFAULT now() NOT NULL,
    created_by bigint NOT NULL
);


ALTER TABLE public_temp.app OWNER TO postgres;

--
-- Name: app_template; Type: TABLE; Schema: public_temp; Owner: postgres
--

CREATE TABLE public_temp.app_template (
    name text NOT NULL,
    description text,
    app_id bigint NOT NULL,
    app_template_id bigint NOT NULL
);


ALTER TABLE public_temp.app_template OWNER TO postgres;

--
-- Name: custom_unit; Type: TABLE; Schema: public_temp; Owner: postgres
--

CREATE TABLE public_temp.custom_unit (
    unit_id bigint NOT NULL,
    name text NOT NULL,
    key text NOT NULL,
    created_at timestamp with time zone DEFAULT now() NOT NULL,
    updated_at timestamp with time zone DEFAULT now() NOT NULL
);


ALTER TABLE public_temp.custom_unit OWNER TO postgres;

--
-- Name: custom_unit_unit_id_seq; Type: SEQUENCE; Schema: public_temp; Owner: postgres
--

ALTER TABLE public_temp.custom_unit ALTER COLUMN unit_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public_temp.custom_unit_unit_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: databasechangelog; Type: TABLE; Schema: public_temp; Owner: postgres
--

CREATE TABLE public_temp.databasechangelog (
    id character varying(255) NOT NULL,
    author character varying(255) NOT NULL,
    filename character varying(255) NOT NULL,
    dateexecuted timestamp without time zone NOT NULL,
    orderexecuted integer NOT NULL,
    exectype character varying(10) NOT NULL,
    md5sum character varying(35),
    description character varying(255),
    comments character varying(255),
    tag character varying(255),
    liquibase character varying(20),
    contexts character varying(255),
    labels character varying(255),
    deployment_id character varying(10)
);


ALTER TABLE public_temp.databasechangelog OWNER TO postgres;

--
-- Name: databasechangeloglock; Type: TABLE; Schema: public_temp; Owner: postgres
--

CREATE TABLE public_temp.databasechangeloglock (
    id integer NOT NULL,
    locked boolean NOT NULL,
    lockgranted timestamp without time zone,
    lockedby character varying(255)
);


ALTER TABLE public_temp.databasechangeloglock OWNER TO postgres;

--
-- Name: external_system_external_system_id_seq; Type: SEQUENCE; Schema: public_temp; Owner: postgres
--

ALTER TABLE public_temp.app ALTER COLUMN app_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public_temp.external_system_external_system_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: integration_template_integration_template_id_seq; Type: SEQUENCE; Schema: public_temp; Owner: postgres
--

CREATE SEQUENCE public_temp.integration_template_integration_template_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public_temp.integration_template_integration_template_id_seq OWNER TO postgres;

--
-- Name: integration_template_integration_template_id_seq; Type: SEQUENCE OWNED BY; Schema: public_temp; Owner: postgres
--

ALTER SEQUENCE public_temp.integration_template_integration_template_id_seq OWNED BY public_temp.app_template.app_template_id;


--
-- Name: rule; Type: TABLE; Schema: public_temp; Owner: postgres
--

CREATE TABLE public_temp.rule (
    rule_id bigint NOT NULL,
    title text NOT NULL,
    description text,
    activity_id bigint NOT NULL,
    created_at timestamp with time zone DEFAULT now() NOT NULL,
    updated_at timestamp with time zone DEFAULT now() NOT NULL,
    trigger_id bigint NOT NULL,
    trigger_type_id bigint,
    action_id bigint NOT NULL,
    trigger_type_params jsonb,
    action_params jsonb,
    trigger_params jsonb
);


ALTER TABLE public_temp.rule OWNER TO postgres;

--
-- Name: rule_progress_streak; Type: TABLE; Schema: public_temp; Owner: postgres
--

CREATE TABLE public_temp.rule_progress_streak (
    rule_progress_streak_id bigint NOT NULL,
    rule_id bigint NOT NULL,
    user_activity_id bigint NOT NULL,
    current_streak integer NOT NULL,
    last_interaction_at timestamp with time zone NOT NULL,
    created_at timestamp with time zone DEFAULT now() NOT NULL
);


ALTER TABLE public_temp.rule_progress_streak OWNER TO postgres;

--
-- Name: rule_progress_streak_rule_progress_streak_id_seq; Type: SEQUENCE; Schema: public_temp; Owner: postgres
--

ALTER TABLE public_temp.rule_progress_streak ALTER COLUMN rule_progress_streak_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public_temp.rule_progress_streak_rule_progress_streak_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: rule_progress_times; Type: TABLE; Schema: public_temp; Owner: postgres
--

CREATE TABLE public_temp.rule_progress_times (
    rule_progress_single_id bigint NOT NULL,
    rule_id bigint NOT NULL,
    user_activity_id bigint NOT NULL,
    progress integer NOT NULL,
    created_at timestamp with time zone DEFAULT now() NOT NULL,
    updated_at timestamp with time zone DEFAULT now() NOT NULL,
    completed_at timestamp with time zone
);


ALTER TABLE public_temp.rule_progress_times OWNER TO postgres;

--
-- Name: rule_progress_times_rule_progress_single_id_seq; Type: SEQUENCE; Schema: public_temp; Owner: postgres
--

ALTER TABLE public_temp.rule_progress_times ALTER COLUMN rule_progress_single_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public_temp.rule_progress_times_rule_progress_single_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: rule_rule_id_seq; Type: SEQUENCE; Schema: public_temp; Owner: postgres
--

ALTER TABLE public_temp.rule ALTER COLUMN rule_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public_temp.rule_rule_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: rule_template; Type: TABLE; Schema: public_temp; Owner: postgres
--

CREATE TABLE public_temp.rule_template (
    rule_template_id bigint NOT NULL,
    name text NOT NULL,
    description text,
    trigger_template_id bigint NOT NULL,
    action_id bigint NOT NULL,
    app_id integer NOT NULL,
    created_at timestamp with time zone DEFAULT now() NOT NULL,
    updated_at timestamp with time zone DEFAULT now() NOT NULL,
    action_params jsonb,
    trigger_params jsonb
);


ALTER TABLE public_temp.rule_template OWNER TO postgres;

--
-- Name: rule_template_rule_template_id_seq; Type: SEQUENCE; Schema: public_temp; Owner: postgres
--

CREATE SEQUENCE public_temp.rule_template_rule_template_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public_temp.rule_template_rule_template_id_seq OWNER TO postgres;

--
-- Name: rule_template_rule_template_id_seq; Type: SEQUENCE OWNED BY; Schema: public_temp; Owner: postgres
--

ALTER SEQUENCE public_temp.rule_template_rule_template_id_seq OWNED BY public_temp.rule_template.rule_template_id;


--
-- Name: trigger; Type: TABLE; Schema: public_temp; Owner: postgres
--

CREATE TABLE public_temp.trigger (
    trigger_id bigint NOT NULL,
    title text NOT NULL,
    description text,
    created_at timestamp with time zone DEFAULT now() NOT NULL,
    updated_at timestamp with time zone DEFAULT now() NOT NULL,
    key text NOT NULL,
    json_schema jsonb,
    app_id bigint NOT NULL
);


ALTER TABLE public_temp.trigger OWNER TO postgres;

--
-- Name: trigger_template; Type: TABLE; Schema: public_temp; Owner: postgres
--

CREATE TABLE public_temp.trigger_template (
    title text NOT NULL,
    description text,
    key text NOT NULL,
    json_schema jsonb,
    trigger_template_id bigint NOT NULL,
    app_template_id bigint NOT NULL
);


ALTER TABLE public_temp.trigger_template OWNER TO postgres;

--
-- Name: trigger_template_integration_tempalte_id_seq; Type: SEQUENCE; Schema: public_temp; Owner: postgres
--

CREATE SEQUENCE public_temp.trigger_template_integration_tempalte_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public_temp.trigger_template_integration_tempalte_id_seq OWNER TO postgres;

--
-- Name: trigger_template_integration_tempalte_id_seq; Type: SEQUENCE OWNED BY; Schema: public_temp; Owner: postgres
--

ALTER SEQUENCE public_temp.trigger_template_integration_tempalte_id_seq OWNED BY public_temp.trigger_template.trigger_template_id;


--
-- Name: trigger_trigger_id_seq; Type: SEQUENCE; Schema: public_temp; Owner: postgres
--

ALTER TABLE public_temp.trigger ALTER COLUMN trigger_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public_temp.trigger_trigger_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: trigger_type; Type: TABLE; Schema: public_temp; Owner: postgres
--

CREATE TABLE public_temp.trigger_type (
    trigger_type_id bigint NOT NULL,
    title text NOT NULL,
    description text,
    json_schema jsonb,
    created_at timestamp with time zone DEFAULT now() NOT NULL,
    updated_at timestamp with time zone DEFAULT now() NOT NULL,
    key text NOT NULL
);


ALTER TABLE public_temp.trigger_type OWNER TO postgres;

--
-- Name: trigger_type_trigger_type_id_seq; Type: SEQUENCE; Schema: public_temp; Owner: postgres
--

ALTER TABLE public_temp.trigger_type ALTER COLUMN trigger_type_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public_temp.trigger_type_trigger_type_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: user; Type: TABLE; Schema: public_temp; Owner: postgres
--

CREATE TABLE public_temp."user" (
    user_id bigint NOT NULL,
    username text NOT NULL,
    name text NOT NULL,
    app_user_id text NOT NULL,
    app_id bigint,
    created_at timestamp with time zone DEFAULT now() NOT NULL,
    updated_at timestamp with time zone DEFAULT now() NOT NULL
);


ALTER TABLE public_temp."user" OWNER TO postgres;

--
-- Name: user_activity; Type: TABLE; Schema: public_temp; Owner: postgres
--

CREATE TABLE public_temp.user_activity (
    user_activity_id bigint NOT NULL,
    user_id bigint NOT NULL,
    activity_id bigint NOT NULL,
    points integer NOT NULL,
    created_at timestamp with time zone DEFAULT now() NOT NULL,
    updated_at timestamp with time zone DEFAULT now() NOT NULL
);


ALTER TABLE public_temp.user_activity OWNER TO postgres;

--
-- Name: user_activity_achievement; Type: TABLE; Schema: public_temp; Owner: postgres
--

CREATE TABLE public_temp.user_activity_achievement (
    user_activity_achievement_id bigint NOT NULL,
    achievement_id bigint NOT NULL,
    user_activity_id bigint NOT NULL,
    completed_at timestamp with time zone,
    created_at timestamp with time zone DEFAULT now() NOT NULL,
    updated_at timestamp with time zone DEFAULT now() NOT NULL
);


ALTER TABLE public_temp.user_activity_achievement OWNER TO postgres;

--
-- Name: user_activity_achievement_user_activity_achievement_id_seq; Type: SEQUENCE; Schema: public_temp; Owner: postgres
--

ALTER TABLE public_temp.user_activity_achievement ALTER COLUMN user_activity_achievement_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public_temp.user_activity_achievement_user_activity_achievement_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: user_activity_point_history; Type: TABLE; Schema: public_temp; Owner: postgres
--

CREATE TABLE public_temp.user_activity_point_history (
    user_activity_point_history_id bigint NOT NULL,
    user_activity_id bigint NOT NULL,
    activity_id bigint NOT NULL,
    points integer NOT NULL,
    created_at timestamp with time zone DEFAULT now() NOT NULL,
    description text
);


ALTER TABLE public_temp.user_activity_point_history OWNER TO postgres;

--
-- Name: user_activity_point_history_user_activity_point_history_id_seq; Type: SEQUENCE; Schema: public_temp; Owner: postgres
--

ALTER TABLE public_temp.user_activity_point_history ALTER COLUMN user_activity_point_history_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public_temp.user_activity_point_history_user_activity_point_history_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: user_activity_progress; Type: TABLE; Schema: public_temp; Owner: postgres
--

CREATE TABLE public_temp.user_activity_progress (
    user_activity_progress_id bigint NOT NULL,
    activity_id bigint NOT NULL,
    user_activity_id integer NOT NULL,
    unit_id integer NOT NULL,
    progress_value integer NOT NULL,
    created_at timestamp without time zone DEFAULT now() NOT NULL,
    updated_at timestamp without time zone DEFAULT now() NOT NULL
);


ALTER TABLE public_temp.user_activity_progress OWNER TO postgres;

--
-- Name: user_activity_progress_user_activity_progress_id_seq; Type: SEQUENCE; Schema: public_temp; Owner: postgres
--

ALTER TABLE public_temp.user_activity_progress ALTER COLUMN user_activity_progress_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public_temp.user_activity_progress_user_activity_progress_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: user_activity_user_activity_id_seq; Type: SEQUENCE; Schema: public_temp; Owner: postgres
--

ALTER TABLE public_temp.user_activity ALTER COLUMN user_activity_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public_temp.user_activity_user_activity_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: user_user_id_seq; Type: SEQUENCE; Schema: public_temp; Owner: postgres
--

ALTER TABLE public_temp."user" ALTER COLUMN user_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public_temp.user_user_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: app_template app_template_id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.app_template ALTER COLUMN app_template_id SET DEFAULT nextval('public.app_template_app_template_id_seq'::regclass);


--
-- Name: rule_template rule_template_id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.rule_template ALTER COLUMN rule_template_id SET DEFAULT nextval('public.rule_template_rule_template_id_seq'::regclass);


--
-- Name: trigger_template trigger_template_id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.trigger_template ALTER COLUMN trigger_template_id SET DEFAULT nextval('public.trigger_template_app_tempalte_id_seq'::regclass);


--
-- Name: app_template app_template_id; Type: DEFAULT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.app_template ALTER COLUMN app_template_id SET DEFAULT nextval('public_temp.integration_template_integration_template_id_seq'::regclass);


--
-- Name: rule_template rule_template_id; Type: DEFAULT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.rule_template ALTER COLUMN rule_template_id SET DEFAULT nextval('public_temp.rule_template_rule_template_id_seq'::regclass);


--
-- Name: trigger_template trigger_template_id; Type: DEFAULT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.trigger_template ALTER COLUMN trigger_template_id SET DEFAULT nextval('public_temp.trigger_template_integration_tempalte_id_seq'::regclass);


--
-- Data for Name: achievement; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.achievement (achievement_id, title, description, created_at, updated_at, image_url, activity_id) FROM stdin;
1	Look at me	You looked at me	2023-11-28 14:35:25.352576+07	2023-11-28 14:35:25.352576+07	https://cdn.7tv.app/emote/60abf171870d317bef23d399/4x.webp	1
2	I'm a Sharer	You shared an activity	2023-11-28 15:04:18.531351+07	2023-11-28 15:04:18.531351+07	https://cdn.7tv.app/emote/652272cc84f69a4c93b07a0c/4x.webp	1
3	ia mdethi s	\N	2023-12-10 15:41:36.662198+07	2023-12-10 15:41:36.662198+07	\N	1
4	12334123421	\N	2023-12-10 15:42:00.237196+07	2023-12-10 15:42:00.237196+07	\N	1
5	dwqdqwdqw	\N	2023-12-10 15:42:08.016198+07	2023-12-10 15:42:08.016198+07	\N	1
6	dqwdqwdqwdqw	\N	2023-12-10 15:42:53.635743+07	2023-12-10 15:42:53.635743+07	\N	1
7	XXXXXXXXXXX	\N	2023-12-10 15:43:01.692746+07	2023-12-10 15:43:01.692746+07	\N	1
8	Look at me	\N	2023-12-10 15:44:55.789744+07	2023-12-10 15:44:55.789744+07	\N	1
9	Look at me	\N	2023-12-10 15:44:58.165742+07	2023-12-10 15:44:58.165742+07	\N	1
10	Look at me	\N	2023-12-10 15:44:59.686747+07	2023-12-10 15:44:59.686747+07	\N	1
11	Look at me	\N	2023-12-10 15:45:04.526743+07	2023-12-10 15:45:04.526743+07	\N	1
\.


--
-- Data for Name: action; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.action (action_id, title, description, json_schema, created_at, updated_at, key) FROM stdin;
1	Add points	\N	{"type": "object", "$schema": "http://json-schema.org/draft-04/schema#", "required": ["value"], "properties": {"value": {"type": "number"}}}	2023-10-31 20:54:49.958514+07	2023-10-31 20:54:49.958514+07	add_points
2	Unlock achievement	\N	{"type": "object", "$schema": "http://json-schema.org/draft-04/schema#", "required": ["achievementId"], "properties": {"achievementId": {"type": "number"}}}	2023-10-31 21:08:24.064419+07	2023-10-31 21:08:24.064419+07	unlock_achievement
\.


--
-- Data for Name: activity; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.activity (activity_id, title, description, created_at, updated_at, app_id) FROM stdin;
1	Activity 1	This is for app1	2023-11-25 15:23:56.959286+07	2023-11-25 15:23:56.959286+07	1
2	<string>	<string>	2023-11-25 15:41:46.820529+07	2023-11-25 15:41:46.820529+07	\N
3	XXDWQDQW	dWDQWDQW	2023-11-26 21:06:02.623301+07	2023-11-26 21:06:02.623301+07	\N
4	ewww's Activity	i made this	2023-11-27 10:34:52.431233+07	2023-11-27 10:34:52.431233+07	8
5	3213	\N	2023-11-27 10:40:20.489605+07	2023-11-27 10:40:20.489605+07	8
6	ewewew	nothung	2023-11-27 11:02:00.908178+07	2023-11-27 11:02:00.908178+07	8
7	-wqddqwd	23232	2023-11-27 11:02:37.211179+07	2023-11-27 11:02:37.211179+07	9
8	WWewqeqw	321	2023-12-01 20:46:52.124156+07	2023-12-01 20:46:52.124156+07	1
9	3232	3213	2023-12-09 10:57:57.73145+07	2023-12-09 10:57:57.73145+07	15
10	dddddddddddddd	\N	2023-12-10 23:16:14.329398+07	2023-12-10 23:16:14.329398+07	1
11	dWDWDW	\N	2023-12-10 23:17:17.075789+07	2023-12-10 23:17:17.075789+07	1
12	eeeweqw	\N	2023-12-10 23:17:23.717789+07	2023-12-10 23:17:23.717789+07	1
13	dwdwwdqwdqw	dqwdqwdqw	2023-12-11 01:35:30.599985+07	2023-12-11 01:35:30.599985+07	1
\.


--
-- Data for Name: app; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.app (app_id, title, description, api_key, created_at, updated_at, created_by) FROM stdin;
1	app1	For testing	15cfada4-eadd-4087-9e85-1aaf92a8d476	2023-11-25 15:23:56.54536+07	2023-11-25 15:23:56.54536+07	1
29	eweqw	\N	$argon2id$v=19$m=16384,t=2,p=1$S88KQD/QdtByxAp+DZU2eA$5bzPPgfXfP6Rfv8AEz1LcLh2ZXenRpzN+SF12gWocqo	2023-12-04 15:40:52.462921+07	2023-12-04 15:40:52.462921+07	2
6	223232312	\N	0fbfbc02-81b0-4aad-ab55-37e9bac653fd	2023-11-26 11:40:35.67782+07	2023-11-26 11:40:35.67782+07	2
2	Fitbit	\N	0838c6ed-86bd-4dc6-9ea4-a1f29da99ebf	2023-11-26 11:19:16.049852+07	2023-11-26 11:19:16.049852+07	2
17	23Not Activity Platform 333	\N	d78224f4-8288-4304-8d6a-fa555156f85c	2023-11-26 19:40:09.565458+07	2023-11-26 19:40:09.565458+07	2
10	dwdqwdqw	\N	8bfd12d7-6e2a-4f28-8c48-71fc5f714eb3	2023-11-26 14:03:20.650477+07	2023-11-26 14:03:20.650477+07	2
9	dsadas	\N	6a357ed4-6449-40e6-b660-818f3a2e38a2	2023-11-26 13:55:22.221258+07	2023-11-26 13:55:22.221258+07	2
22	WWWW	\N	8aae9b1b-bc1c-4f81-9083-5a3f6d278dcd	2023-11-26 20:40:49.071811+07	2023-11-26 20:40:49.071811+07	2
13	Not Activity Platform 2	\N	8592d75a-9531-4705-87e2-85f0b802c73d	2023-11-26 19:38:54.521592+07	2023-11-26 19:38:54.521592+07	2
26	321312	\N	$argon2id$v=19$m=16384,t=2,p=1$PvPfd1khemz2kwptS2WmPg$d9iGGFPYR3/hctACzKpZiWBReGssZGEhIchk3ZSTvHY	2023-12-04 15:39:28.031926+07	2023-12-04 15:39:28.031926+07	2
28	DWDWDQd	\N	$argon2id$v=19$m=16384,t=2,p=1$jdOZ+nJ51NOL9MBPpgz+/A$3hrrGKNvoQDXuoVEtuLENmQO2KFPZ668yOLTqPpXpXA	2023-12-04 15:40:03.253172+07	2023-12-04 15:40:03.253172+07	2
30	eweqwdd	\N	$argon2id$v=19$m=16384,t=2,p=1$xGSDZnIrQFlNt+Cj4imIHg$E+uFGirFzCC3wVsUH5pNBXpjMmuMp6y2aK8v69UWAyk	2023-12-04 15:41:09.044687+07	2023-12-04 15:41:09.044687+07	2
24	TEST2	\N	9c8c8557-9b99-495d-a4c1-1f89fcf5f96f	2023-11-27 00:05:51.139683+07	2023-11-27 00:05:51.139683+07	2
18	4984894892	\N	15891ec0-1566-493e-b9de-6d7d66fc4ebd	2023-11-26 20:22:15.412635+07	2023-11-26 20:22:15.412635+07	2
16	Not Activity Platform 333	\N	3b7d58df-f543-400c-b605-b384860aac88	2023-11-26 19:39:21.650771+07	2023-11-26 19:39:21.650771+07	2
19	No template	\N	f0e5f568-4caa-46c4-bec1-52fe54ed9464	2023-11-26 20:23:44.824807+07	2023-11-26 20:23:44.824807+07	2
20	With template	\N	770d36dc-b7de-4ce8-8db7-d650446b63c9	2023-11-26 20:23:57.036857+07	2023-11-26 20:23:57.036857+07	2
21	With template 2	\N	4da4679c-82e9-4a04-adfe-a3f15031a91c	2023-11-26 20:25:47.688335+07	2023-11-26 20:25:47.688335+07	2
27	DWDWDQ	\N	$argon2id$v=19$m=16384,t=2,p=1$Ou+5CI7NCzQRBHO9cmfRew$WVYpUK/ODZjtNoOr0MCXyVb7kPMMbd3zO1z5BXsf3cE	2023-12-04 15:39:45.087596+07	2023-12-04 15:39:45.087596+07	2
31	actual app	\N	$argon2id$v=19$m=16384,t=2,p=1$UpazeoOidRkzPkR9OKGMLg$AjEtzvOPuEv3Z/wBpXHYMe49cGx8ZUtpBK9/AZ/lTls	2023-12-05 11:40:25.175532+07	2023-12-05 11:40:25.175532+07	2
11	dwdd	\N	c129ede9-90fc-4ef4-9258-4e0fd81b89aa	2023-11-26 16:09:04.833521+07	2023-11-26 16:09:04.833521+07	2
12	Not Activity Platform	\N	cf796741-ce51-49bc-b93e-67f10ff362bb	2023-11-26 19:36:56.267097+07	2023-11-26 19:36:56.267097+07	2
23	TEST	\N	17cbe6c8-fa81-4b65-ade5-3a93df9e284f	2023-11-27 00:05:19.099246+07	2023-11-27 00:05:19.099246+07	2
8	ewww	\N	f0b0ab94-ee93-4bd8-b307-d659692d4aa1	2023-11-26 13:55:00.972037+07	2023-11-26 13:55:00.972037+07	2
7	232321	\N	95d246eb-6a74-4b37-b7c5-f9e61fb886ae	2023-11-26 11:41:40.100741+07	2023-11-26 11:41:40.100741+07	2
32	aaaaaaaaaaa	\N	5948ad9a-10e7-4c2e-a768-bb13e5797df5	2023-12-08 19:27:13.070775+07	2023-12-08 19:27:13.070775+07	2
3	323231	\N	3648bd41-bd75-46ea-80fb-4e61a0e426a0	2023-11-26 11:19:30.529472+07	2023-11-26 11:19:30.529472+07	2
15	Not Activity Platform 33	\N	a686a540-40cd-45ba-86cb-081932f36b93	2023-11-26 19:39:08.06883+07	2023-11-26 19:39:08.06883+07	2
14	Not Activity Platform 3	\N	8bcc4a20-fc5e-4823-a06b-5ba4300f5083	2023-11-26 19:39:04.859496+07	2023-11-26 19:39:04.859496+07	2
\.


--
-- Data for Name: app_template; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.app_template (name, description, app_id, app_template_id) FROM stdin;
Activity Platform	Default for Activity Platform, including triggers and rule templates	1	1
\.


--
-- Data for Name: app_user; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.app_user (app_user_id, unique_id, display_name, created_at, updated_at, app_id) FROM stdin;
2	user1	Hoo Man	2023-12-10 04:58:49.011581	2023-12-10 04:58:49.011581	1
4	user2	I'm literally me	2023-12-10 09:53:59.771423	2023-12-10 09:53:59.771423	1
5	ewqeqweqwe	qweqwewq	2023-12-10 16:43:02.752244	2023-12-10 16:43:02.752244	1
6	me made this whoaowhowtwad	NOT ME	2023-12-10 16:46:33.638715	2023-12-10 16:46:33.638715	1
7	new user who dis	3333333	2023-12-10 16:47:51.012843	2023-12-10 16:47:51.012843	1
8	ewewewewe	wewewewe	2023-12-10 18:24:28.734841	2023-12-10 18:24:28.734841	1
9	new user ja 	ok ja	2023-12-10 18:35:44.900512	2023-12-10 18:35:44.900512	1
\.


--
-- Data for Name: app_user_activity; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.app_user_activity (app_user_activity_id, app_user_id, activity_id, points, created_at, updated_at) FROM stdin;
2	4	1	4134	2023-12-10 19:08:30.061708+07	2023-12-10 23:01:53.835988+07
3	6	1	0	2023-12-10 23:50:01.745682+07	2023-12-10 23:50:01.745682+07
1	2	1	1760	2023-11-25 15:49:18.301626+07	2023-12-10 21:29:46.466648+07
\.


--
-- Data for Name: app_user_activity_achievement; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.app_user_activity_achievement (app_user_activity_achievement_id, achievement_id, app_user_activity_id, completed_at, created_at, updated_at) FROM stdin;
1	1	1	2023-11-28 14:36:19.329583+07	2023-11-28 14:36:19.329583+07	2023-11-28 14:36:19.329583+07
2	2	1	2023-11-28 15:04:18.562653+07	2023-11-28 15:04:18.562653+07	2023-11-28 15:04:18.562653+07
\.


--
-- Data for Name: app_user_activity_point_history; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.app_user_activity_point_history (app_user_activity_point_history_id, app_user_activity_id, activity_id, points, created_at, description) FROM stdin;
\.


--
-- Data for Name: app_user_activity_progress; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.app_user_activity_progress (app_user_activity_progress_id, activity_id, app_user_activity_id, unit_id, progress_value, created_at, updated_at) FROM stdin;
\.


--
-- Data for Name: custom_unit; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.custom_unit (unit_id, name, key, created_at, updated_at) FROM stdin;
1	<string>	<string>	2023-11-25 15:41:47.212526+07	2023-11-25 15:41:47.212526+07
2	Steps 55	steps55	2023-11-26 11:19:09.035188+07	2023-11-26 11:19:09.035188+07
\.


--
-- Data for Name: rule; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.rule (rule_id, title, description, activity_id, created_at, updated_at, trigger_id, trigger_type_id, action_id, trigger_type_params, action_params, trigger_params) FROM stdin;
1	New rule	New rule	1	2023-11-25 15:56:32.388237+07	2023-11-25 15:56:32.388237+07	1	\N	1	\N	{"value": "10"}	\N
3	New rule	New rule	1	2023-11-28 22:30:50.81627+07	2023-11-28 22:30:50.81627+07	31	\N	1	\N	{"value": "10"}	\N
4	WWWW	New rule	1	2023-12-02 11:42:06.066024+07	2023-12-02 11:42:06.066024+07	31	\N	1	\N	{"value": "50"}	\N
5	New rule	New rule	1	2023-12-10 14:53:49.938261+07	2023-12-10 14:53:49.938261+07	33	\N	1	\N	{"value": "1"}	\N
\.


--
-- Data for Name: rule_progress_streak; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.rule_progress_streak (rule_progress_streak_id, rule_id, user_activity_id, current_streak, last_interaction_at, created_at) FROM stdin;
\.


--
-- Data for Name: rule_progress_times; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.rule_progress_times (rule_progress_single_id, rule_id, user_activity_id, progress, created_at, updated_at, completed_at) FROM stdin;
\.


--
-- Data for Name: rule_template; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.rule_template (rule_template_id, name, description, trigger_template_id, action_id, app_id, created_at, updated_at, action_params, trigger_params) FROM stdin;
1	Add 10 points when activity is completed	User gets 10 points when activity is completed	14	1	1	2023-11-26 19:13:27.519559+07	2023-11-26 19:13:27.519559+07	\N	{"value": "10"}
2	Add 5 points when activity is shared	User gets 5 points when activity is shared	15	1	1	2023-11-26 19:13:27.530099+07	2023-11-26 19:13:27.530099+07	\N	{"value": "5"}
\.


--
-- Data for Name: trigger; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.trigger (trigger_id, title, description, created_at, updated_at, key, json_schema, app_id) FROM stdin;
1	<string>	<string>	2023-11-25 15:41:47.116527+07	2023-11-25 15:41:47.116527+07	<string>	\N	1
2	<string> reached	Triggered when <string> reached a certain value	2023-11-25 15:41:47.22453+07	2023-11-25 15:41:47.22453+07	<string>_reached	{"type": "object", "$schema": "http://json-schema.org/draft-04/schema#", "required": ["value"], "properties": {"value": {"type": "number"}}}	1
3	Points reached	Points reached	2023-11-25 16:15:26.439378+07	2023-11-25 16:15:26.439378+07	points_reached	{"type": "object", "$schema": "http://json-schema.org/draft-04/schema#", "required": ["value"], "properties": {"value": {"type": "number"}}}	1
4	Steps 55 reached	Triggered when Steps 55 reached a certain value	2023-11-26 11:19:09.154186+07	2023-11-26 11:19:09.154186+07	steps55_reached	{"type": "object", "$schema": "http://json-schema.org/draft-04/schema#", "required": ["value"], "properties": {"value": {"type": "number"}}}	1
31	TRIGGER ME NOW	\N	2023-11-28 22:30:32.850449+07	2023-11-28 22:30:32.850449+07	trigger_me_now	\N	1
32	wewew e2 e2e123	\N	2023-12-10 14:49:22.216742+07	2023-12-10 14:49:22.216742+07	wewew_e2_e2e123	\N	1
33	ewqe wqe qweqweqwewq	\N	2023-12-10 14:51:05.53974+07	2023-12-10 14:51:05.53974+07	ewqe_wqe_qweqweqwewq	\N	1
34	3212321312312321	\N	2023-12-10 21:22:49.543391+07	2023-12-10 21:22:49.543391+07	3212321312312321	\N	1
35	3212321312312321D	\N	2023-12-10 21:22:54.294392+07	2023-12-10 21:22:54.294392+07	3212321312312321d	\N	1
36	33333333333	rrr	2023-12-11 01:24:15.679359+07	2023-12-11 01:24:15.679359+07	33333333333	\N	1
37	eeeeeeeeeeeeeeeeeeeeeee	\N	2023-12-11 01:35:23.909434+07	2023-12-11 01:35:23.909434+07	eeeeeeeeeeeeeeeeeeeeeee	\N	1
\.


--
-- Data for Name: trigger_template; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.trigger_template (title, description, key, json_schema, trigger_template_id, app_template_id) FROM stdin;
Share activity	Trigger when an activity is shared	shared_activity	\N	15	1
Check in	Trigger when a user checks in to an activity	checked_in	\N	17	1
Complete activity	Trigger when an activity is completed	completed_activity	\N	14	1
Join activity	Trigger when a user joins an activity	joined_activity	\N	16	1
\.


--
-- Data for Name: trigger_type; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.trigger_type (trigger_type_id, title, description, json_schema, created_at, updated_at, key) FROM stdin;
\.


--
-- Data for Name: user; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."user" (user_id, username, name, created_at, updated_at, uuid) FROM stdin;
1	user1	User 1	2023-11-25 15:23:56.74695+07	2023-11-25 15:23:56.74695+07	4c1250f9-e442-45d6-ae67-2b41b0e3d4b9
2	user2	User 2	2023-12-10 00:45:47.967905+07	2023-12-10 00:45:47.967905+07	61d9399b-2664-4673-bd47-29159fd316d0
\.


--
-- Data for Name: achievement; Type: TABLE DATA; Schema: public_temp; Owner: postgres
--

COPY public_temp.achievement (achievement_id, title, description, created_at, updated_at, image_url, activity_id) FROM stdin;
1	Look at me	You looked at me	2023-11-28 14:35:25.352576+07	2023-11-28 14:35:25.352576+07	https://cdn.7tv.app/emote/60abf171870d317bef23d399/4x.webp	1
2	I'm a Sharer	You shared an activity	2023-11-28 15:04:18.531351+07	2023-11-28 15:04:18.531351+07	https://cdn.7tv.app/emote/652272cc84f69a4c93b07a0c/4x.webp	1
\.


--
-- Data for Name: action; Type: TABLE DATA; Schema: public_temp; Owner: postgres
--

COPY public_temp.action (action_id, title, description, json_schema, created_at, updated_at, key) FROM stdin;
1	Add points	\N	{"type": "object", "$schema": "http://json-schema.org/draft-04/schema#", "required": ["value"], "properties": {"value": {"type": "number"}}}	2023-10-31 20:54:49.958514+07	2023-10-31 20:54:49.958514+07	add_points
2	Unlock achievement	\N	{"type": "object", "$schema": "http://json-schema.org/draft-04/schema#", "required": ["achievementId"], "properties": {"achievementId": {"type": "number"}}}	2023-10-31 21:08:24.064419+07	2023-10-31 21:08:24.064419+07	unlock_achievement
\.


--
-- Data for Name: activity; Type: TABLE DATA; Schema: public_temp; Owner: postgres
--

COPY public_temp.activity (activity_id, title, description, created_at, updated_at, app_id) FROM stdin;
1	Activity 1	This is for Integration1	2023-11-25 15:23:56.959286+07	2023-11-25 15:23:56.959286+07	1
2	<string>	<string>	2023-11-25 15:41:46.820529+07	2023-11-25 15:41:46.820529+07	\N
3	XXDWQDQW	dWDQWDQW	2023-11-26 21:06:02.623301+07	2023-11-26 21:06:02.623301+07	\N
4	ewww's Activity	i made this	2023-11-27 10:34:52.431233+07	2023-11-27 10:34:52.431233+07	8
5	3213	\N	2023-11-27 10:40:20.489605+07	2023-11-27 10:40:20.489605+07	8
6	ewewew	nothung	2023-11-27 11:02:00.908178+07	2023-11-27 11:02:00.908178+07	8
7	-wqddqwd	23232	2023-11-27 11:02:37.211179+07	2023-11-27 11:02:37.211179+07	9
8	WWewqeqw	321	2023-12-01 20:46:52.124156+07	2023-12-01 20:46:52.124156+07	1
\.


--
-- Data for Name: app; Type: TABLE DATA; Schema: public_temp; Owner: postgres
--

COPY public_temp.app (app_id, title, description, api_key, created_at, updated_at, created_by) FROM stdin;
2	Fitbit	\N	0838c6ed-86bd-4dc6-9ea4-a1f29da99ebf	2023-11-26 11:19:16.049852+07	2023-11-26 11:19:16.049852+07	1
1	Integration1	For testing	15cfada4-eadd-4087-9e85-1aaf92a8d476	2023-11-25 15:23:56.54536+07	2023-11-25 15:23:56.54536+07	1
3	323231	\N	3648bd41-bd75-46ea-80fb-4e61a0e426a0	2023-11-26 11:19:30.529472+07	2023-11-26 11:19:30.529472+07	1
6	223232312	\N	0fbfbc02-81b0-4aad-ab55-37e9bac653fd	2023-11-26 11:40:35.67782+07	2023-11-26 11:40:35.67782+07	1
7	232321	\N	95d246eb-6a74-4b37-b7c5-f9e61fb886ae	2023-11-26 11:41:40.100741+07	2023-11-26 11:41:40.100741+07	1
8	ewww	\N	f0b0ab94-ee93-4bd8-b307-d659692d4aa1	2023-11-26 13:55:00.972037+07	2023-11-26 13:55:00.972037+07	1
9	dsadas	\N	6a357ed4-6449-40e6-b660-818f3a2e38a2	2023-11-26 13:55:22.221258+07	2023-11-26 13:55:22.221258+07	1
10	dwdqwdqw	\N	8bfd12d7-6e2a-4f28-8c48-71fc5f714eb3	2023-11-26 14:03:20.650477+07	2023-11-26 14:03:20.650477+07	1
11	dwdd	\N	c129ede9-90fc-4ef4-9258-4e0fd81b89aa	2023-11-26 16:09:04.833521+07	2023-11-26 16:09:04.833521+07	1
12	Not Activity Platform	\N	cf796741-ce51-49bc-b93e-67f10ff362bb	2023-11-26 19:36:56.267097+07	2023-11-26 19:36:56.267097+07	1
13	Not Activity Platform 2	\N	8592d75a-9531-4705-87e2-85f0b802c73d	2023-11-26 19:38:54.521592+07	2023-11-26 19:38:54.521592+07	1
14	Not Activity Platform 3	\N	8bcc4a20-fc5e-4823-a06b-5ba4300f5083	2023-11-26 19:39:04.859496+07	2023-11-26 19:39:04.859496+07	1
15	Not Activity Platform 33	\N	a686a540-40cd-45ba-86cb-081932f36b93	2023-11-26 19:39:08.06883+07	2023-11-26 19:39:08.06883+07	1
16	Not Activity Platform 333	\N	3b7d58df-f543-400c-b605-b384860aac88	2023-11-26 19:39:21.650771+07	2023-11-26 19:39:21.650771+07	1
17	23Not Activity Platform 333	\N	d78224f4-8288-4304-8d6a-fa555156f85c	2023-11-26 19:40:09.565458+07	2023-11-26 19:40:09.565458+07	1
18	4984894892	\N	15891ec0-1566-493e-b9de-6d7d66fc4ebd	2023-11-26 20:22:15.412635+07	2023-11-26 20:22:15.412635+07	1
19	No template	\N	f0e5f568-4caa-46c4-bec1-52fe54ed9464	2023-11-26 20:23:44.824807+07	2023-11-26 20:23:44.824807+07	1
20	With template	\N	770d36dc-b7de-4ce8-8db7-d650446b63c9	2023-11-26 20:23:57.036857+07	2023-11-26 20:23:57.036857+07	1
21	With template 2	\N	4da4679c-82e9-4a04-adfe-a3f15031a91c	2023-11-26 20:25:47.688335+07	2023-11-26 20:25:47.688335+07	1
22	WWWW	\N	8aae9b1b-bc1c-4f81-9083-5a3f6d278dcd	2023-11-26 20:40:49.071811+07	2023-11-26 20:40:49.071811+07	1
23	TEST	\N	17cbe6c8-fa81-4b65-ade5-3a93df9e284f	2023-11-27 00:05:19.099246+07	2023-11-27 00:05:19.099246+07	1
24	TEST2	\N	9c8c8557-9b99-495d-a4c1-1f89fcf5f96f	2023-11-27 00:05:51.139683+07	2023-11-27 00:05:51.139683+07	1
\.


--
-- Data for Name: app_template; Type: TABLE DATA; Schema: public_temp; Owner: postgres
--

COPY public_temp.app_template (name, description, app_id, app_template_id) FROM stdin;
Activity Platform	Default for Activity Platform, including triggers and rule templates	1	1
\.


--
-- Data for Name: custom_unit; Type: TABLE DATA; Schema: public_temp; Owner: postgres
--

COPY public_temp.custom_unit (unit_id, name, key, created_at, updated_at) FROM stdin;
1	<string>	<string>	2023-11-25 15:41:47.212526+07	2023-11-25 15:41:47.212526+07
2	Steps 55	steps55	2023-11-26 11:19:09.035188+07	2023-11-26 11:19:09.035188+07
\.


--
-- Data for Name: databasechangelog; Type: TABLE DATA; Schema: public_temp; Owner: postgres
--

COPY public_temp.databasechangelog (id, author, filename, dateexecuted, orderexecuted, exectype, md5sum, description, comments, tag, liquibase, contexts, labels, deployment_id) FROM stdin;
1700671243801-1	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.158072	1	EXECUTED	9:3020f08cca114f8c501bbead95724624	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-2	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.172297	2	EXECUTED	9:6ab0272064b015f7891962015144a53b	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-3	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.183652	3	EXECUTED	9:4037c851b4c00d60410807254759931c	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-4	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.1943	4	EXECUTED	9:d8f39c1b971247355c04b18ca06168c8	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-5	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.204098	5	EXECUTED	9:78af317d53361673e8ac0f3fc8ad5083	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-6	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.214797	6	EXECUTED	9:1be8c5c0e0ff19ddef386f2bf9b8c578	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-7	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.223456	7	EXECUTED	9:0f5223514895b743e4ae2071044f27af	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-8	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.232089	8	EXECUTED	9:c2a8f38482532c9d05c9995fc80e6ba5	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-9	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.242439	9	EXECUTED	9:5ff72727014b1e40ebc49ca811b52d2c	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-10	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.2515	10	EXECUTED	9:cc992b0686d39e894255ee5100526f40	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-11	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.261777	11	EXECUTED	9:e77b2175c03225114e46d2631f1173b9	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-12	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.271425	12	EXECUTED	9:9f2201500edb8657d01dd666dab1d4d6	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-13	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.278915	13	EXECUTED	9:9c76a3db12dbbb154590e13867c95e64	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-14	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.289535	14	EXECUTED	9:b1c3a47620ba4b1409320df08c4f0130	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-15	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.298637	15	EXECUTED	9:56642e8ea8229c095765a7dc3dd0d014	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-16	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.305237	16	EXECUTED	9:ca8221f2500c13014be71a1b3df1b43d	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-17	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.311494	17	EXECUTED	9:04c87fcdc528647c9e11b6f139642266	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-18	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.31703	18	EXECUTED	9:f492320d9cb1b264314df54cfcf69511	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-19	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.322665	19	EXECUTED	9:8a26ba1d11fcacaae96cd2066212caf0	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-20	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.32753	20	EXECUTED	9:2491fe874ecaaab5244036045849f3a6	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-21	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.333166	21	EXECUTED	9:523a50337458871871fe0e336513ee72	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-22	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.338058	22	EXECUTED	9:b2d9fe79b23c7bbf4d6050597f3498b8	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-23	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.342992	23	EXECUTED	9:932b57d2055bf3cef520aa3b2240dab5	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-24	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.348181	24	EXECUTED	9:22392056de318c38806a154859e71d65	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-25	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.353564	25	EXECUTED	9:043b1be277557b773a8ccf7305dcacfb	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-26	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.359013	26	EXECUTED	9:aa38625028072373e32394aef0a67549	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-27	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.364916	27	EXECUTED	9:ccbd8fc62ad9bf8e6d786e6ccbc33871	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-28	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.371251	28	EXECUTED	9:10e40e636b747143ae59e51d3f15f61e	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-29	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.376256	29	EXECUTED	9:a6571706784a642f20fe61b77d5f0d82	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-30	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.382229	30	EXECUTED	9:4f3b993311d1d8c6cc43e9cef9f40a77	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-31	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.389077	31	EXECUTED	9:8632127f118d5b72b6ce4e0ded7ebe35	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-32	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.395643	32	EXECUTED	9:96660f141a62c69496a4e7bfec9640da	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-33	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.403466	33	EXECUTED	9:1e7fb24ae5b091d890bfed44744d76f7	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-34	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.410551	34	EXECUTED	9:6e78771f67d1f25e1ac71cd185325fb4	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-35	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.415878	35	EXECUTED	9:0c8db3a90be3998298bd7f51b4a7a217	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-36	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.422435	36	EXECUTED	9:1cf2eb483681189a2bdd1ff482b97d31	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-37	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.427635	37	EXECUTED	9:3971ce84f76b3bfbee7ae416a7530137	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-38	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.433193	38	EXECUTED	9:5832b82fd743e643434477ae3b611854	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-39	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.43871	39	EXECUTED	9:344d6f77b62b242dc5cbb1251899639a	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-40	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.443921	40	EXECUTED	9:a68791b8ae1b70d7326b93dbff9921d0	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-41	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.449677	41	EXECUTED	9:fd7f7c86e0750764281b9ab50ef2b6db	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-42	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.45532	42	EXECUTED	9:d937eb3214cfe9ebfbeea3c5d65c4268	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-43	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.459888	43	EXECUTED	9:3af8ce7bd6cab0ba0f2d7e2672df99e7	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-44	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.467426	44	EXECUTED	9:23510c3f249435870f35b1e2fc35ed38	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-45	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.474001	45	EXECUTED	9:f81d16217dbc269eba3400f1392c5ddc	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-46	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.47969	46	EXECUTED	9:5798512c6ad2b897b283a725c9ea9ffa	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-47	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.484515	47	EXECUTED	9:9d7eae7ca3d57674c82feefa799df1bf	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-48	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.489673	48	EXECUTED	9:10c1042b9f9b6eefc9892a6a6a942fa3	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-49	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.493366	49	EXECUTED	9:521bebfbae352826fb16a52cbf93ddea	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-50	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.497604	50	EXECUTED	9:0e22c567dd7687a79a08243168c82238	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-51	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.502351	51	EXECUTED	9:e7299a05fc1cfa519b4df75cf44d94fa	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-52	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.506119	52	EXECUTED	9:c7f580bbe3856eb2069310e106243546	sql		\N	4.24.0	\N	\N	0900603086
1700671243801-53	Rooted	db/changelog/2023/11/22-01-init-changelog.sql	2023-11-25 15:23:23.509886	53	EXECUTED	9:ad423985e2bdd08ccc410930fb23812c	sql		\N	4.24.0	\N	\N	0900603086
\.


--
-- Data for Name: databasechangeloglock; Type: TABLE DATA; Schema: public_temp; Owner: postgres
--

COPY public_temp.databasechangeloglock (id, locked, lockgranted, lockedby) FROM stdin;
1	f	\N	\N
\.


--
-- Data for Name: rule; Type: TABLE DATA; Schema: public_temp; Owner: postgres
--

COPY public_temp.rule (rule_id, title, description, activity_id, created_at, updated_at, trigger_id, trigger_type_id, action_id, trigger_type_params, action_params, trigger_params) FROM stdin;
1	New rule	New rule	1	2023-11-25 15:56:32.388237+07	2023-11-25 15:56:32.388237+07	1	\N	1	\N	{"value": "10"}	\N
3	New rule	New rule	1	2023-11-28 22:30:50.81627+07	2023-11-28 22:30:50.81627+07	31	\N	1	\N	{"value": "10"}	\N
\.


--
-- Data for Name: rule_progress_streak; Type: TABLE DATA; Schema: public_temp; Owner: postgres
--

COPY public_temp.rule_progress_streak (rule_progress_streak_id, rule_id, user_activity_id, current_streak, last_interaction_at, created_at) FROM stdin;
\.


--
-- Data for Name: rule_progress_times; Type: TABLE DATA; Schema: public_temp; Owner: postgres
--

COPY public_temp.rule_progress_times (rule_progress_single_id, rule_id, user_activity_id, progress, created_at, updated_at, completed_at) FROM stdin;
\.


--
-- Data for Name: rule_template; Type: TABLE DATA; Schema: public_temp; Owner: postgres
--

COPY public_temp.rule_template (rule_template_id, name, description, trigger_template_id, action_id, app_id, created_at, updated_at, action_params, trigger_params) FROM stdin;
1	Add 10 points when activity is completed	User gets 10 points when activity is completed	14	1	1	2023-11-26 19:13:27.519559+07	2023-11-26 19:13:27.519559+07	\N	{"value": "10"}
2	Add 5 points when activity is shared	User gets 5 points when activity is shared	15	1	1	2023-11-26 19:13:27.530099+07	2023-11-26 19:13:27.530099+07	\N	{"value": "5"}
\.


--
-- Data for Name: trigger; Type: TABLE DATA; Schema: public_temp; Owner: postgres
--

COPY public_temp.trigger (trigger_id, title, description, created_at, updated_at, key, json_schema, app_id) FROM stdin;
1	<string>	<string>	2023-11-25 15:41:47.116527+07	2023-11-25 15:41:47.116527+07	<string>	\N	1
2	<string> reached	Triggered when <string> reached a certain value	2023-11-25 15:41:47.22453+07	2023-11-25 15:41:47.22453+07	<string>_reached	{"type": "object", "$schema": "http://json-schema.org/draft-04/schema#", "required": ["value"], "properties": {"value": {"type": "number"}}}	1
3	Points reached	Points reached	2023-11-25 16:15:26.439378+07	2023-11-25 16:15:26.439378+07	points_reached	{"type": "object", "$schema": "http://json-schema.org/draft-04/schema#", "required": ["value"], "properties": {"value": {"type": "number"}}}	1
4	Steps 55 reached	Triggered when Steps 55 reached a certain value	2023-11-26 11:19:09.154186+07	2023-11-26 11:19:09.154186+07	steps55_reached	{"type": "object", "$schema": "http://json-schema.org/draft-04/schema#", "required": ["value"], "properties": {"value": {"type": "number"}}}	1
31	TRIGGER ME NOW	\N	2023-11-28 22:30:32.850449+07	2023-11-28 22:30:32.850449+07	trigger_me_now	\N	1
\.


--
-- Data for Name: trigger_template; Type: TABLE DATA; Schema: public_temp; Owner: postgres
--

COPY public_temp.trigger_template (title, description, key, json_schema, trigger_template_id, app_template_id) FROM stdin;
Share activity	Trigger when an activity is shared	shared_activity	\N	15	1
Check in	Trigger when a user checks in to an activity	checked_in	\N	17	1
Complete activity	Trigger when an activity is completed	completed_activity	\N	14	1
Join activity	Trigger when a user joins an activity	joined_activity	\N	16	1
\.


--
-- Data for Name: trigger_type; Type: TABLE DATA; Schema: public_temp; Owner: postgres
--

COPY public_temp.trigger_type (trigger_type_id, title, description, json_schema, created_at, updated_at, key) FROM stdin;
\.


--
-- Data for Name: user; Type: TABLE DATA; Schema: public_temp; Owner: postgres
--

COPY public_temp."user" (user_id, username, name, app_user_id, app_id, created_at, updated_at) FROM stdin;
1	user1	User 1	user1	1	2023-11-25 15:23:56.74695+07	2023-11-25 15:23:56.74695+07
\.


--
-- Data for Name: user_activity; Type: TABLE DATA; Schema: public_temp; Owner: postgres
--

COPY public_temp.user_activity (user_activity_id, user_id, activity_id, points, created_at, updated_at) FROM stdin;
1	1	1	2745	2023-11-25 15:49:18.301626+07	2023-12-01 21:10:31.113594+07
\.


--
-- Data for Name: user_activity_achievement; Type: TABLE DATA; Schema: public_temp; Owner: postgres
--

COPY public_temp.user_activity_achievement (user_activity_achievement_id, achievement_id, user_activity_id, completed_at, created_at, updated_at) FROM stdin;
1	1	1	2023-11-28 14:36:19.329583+07	2023-11-28 14:36:19.329583+07	2023-11-28 14:36:19.329583+07
2	2	1	2023-11-28 15:04:18.562653+07	2023-11-28 15:04:18.562653+07	2023-11-28 15:04:18.562653+07
\.


--
-- Data for Name: user_activity_point_history; Type: TABLE DATA; Schema: public_temp; Owner: postgres
--

COPY public_temp.user_activity_point_history (user_activity_point_history_id, user_activity_id, activity_id, points, created_at, description) FROM stdin;
\.


--
-- Data for Name: user_activity_progress; Type: TABLE DATA; Schema: public_temp; Owner: postgres
--

COPY public_temp.user_activity_progress (user_activity_progress_id, activity_id, user_activity_id, unit_id, progress_value, created_at, updated_at) FROM stdin;
\.


--
-- Name: achievement_achievement_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.achievement_achievement_id_seq', 11, true);


--
-- Name: achievement_activity_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.achievement_activity_id_seq', 1, false);


--
-- Name: action_action_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.action_action_id_seq', 1, false);


--
-- Name: activity_activity_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.activity_activity_id_seq', 13, true);


--
-- Name: app_app_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.app_app_id_seq', 32, true);


--
-- Name: app_template_app_template_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.app_template_app_template_id_seq', 1, true);


--
-- Name: app_user_app_user_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.app_user_app_user_id_seq', 9, true);


--
-- Name: custom_unit_unit_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.custom_unit_unit_id_seq', 2, true);


--
-- Name: rule_progress_streak_rule_progress_streak_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.rule_progress_streak_rule_progress_streak_id_seq', 1, false);


--
-- Name: rule_progress_times_rule_progress_single_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.rule_progress_times_rule_progress_single_id_seq', 1, false);


--
-- Name: rule_rule_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.rule_rule_id_seq', 5, true);


--
-- Name: rule_template_rule_template_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.rule_template_rule_template_id_seq', 2, true);


--
-- Name: trigger_template_app_tempalte_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.trigger_template_app_tempalte_id_seq', 17, true);


--
-- Name: trigger_trigger_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.trigger_trigger_id_seq', 37, true);


--
-- Name: trigger_type_trigger_type_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.trigger_type_trigger_type_id_seq', 1, false);


--
-- Name: user_activity_achievement_user_activity_achievement_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.user_activity_achievement_user_activity_achievement_id_seq', 2, true);


--
-- Name: user_activity_point_history_user_activity_point_history_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.user_activity_point_history_user_activity_point_history_id_seq', 1, false);


--
-- Name: user_activity_progress_user_activity_progress_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.user_activity_progress_user_activity_progress_id_seq', 1, false);


--
-- Name: user_activity_user_activity_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.user_activity_user_activity_id_seq', 3, true);


--
-- Name: user_user_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.user_user_id_seq', 2, true);


--
-- Name: achievement_achievement_id_seq; Type: SEQUENCE SET; Schema: public_temp; Owner: postgres
--

SELECT pg_catalog.setval('public_temp.achievement_achievement_id_seq', 2, true);


--
-- Name: achievement_activity_id_seq; Type: SEQUENCE SET; Schema: public_temp; Owner: postgres
--

SELECT pg_catalog.setval('public_temp.achievement_activity_id_seq', 1, false);


--
-- Name: action_effect_id_seq; Type: SEQUENCE SET; Schema: public_temp; Owner: postgres
--

SELECT pg_catalog.setval('public_temp.action_effect_id_seq', 1, false);


--
-- Name: activity_activity_id_seq; Type: SEQUENCE SET; Schema: public_temp; Owner: postgres
--

SELECT pg_catalog.setval('public_temp.activity_activity_id_seq', 8, true);


--
-- Name: custom_unit_unit_id_seq; Type: SEQUENCE SET; Schema: public_temp; Owner: postgres
--

SELECT pg_catalog.setval('public_temp.custom_unit_unit_id_seq', 2, true);


--
-- Name: external_system_external_system_id_seq; Type: SEQUENCE SET; Schema: public_temp; Owner: postgres
--

SELECT pg_catalog.setval('public_temp.external_system_external_system_id_seq', 24, true);


--
-- Name: integration_template_integration_template_id_seq; Type: SEQUENCE SET; Schema: public_temp; Owner: postgres
--

SELECT pg_catalog.setval('public_temp.integration_template_integration_template_id_seq', 1, true);


--
-- Name: rule_progress_streak_rule_progress_streak_id_seq; Type: SEQUENCE SET; Schema: public_temp; Owner: postgres
--

SELECT pg_catalog.setval('public_temp.rule_progress_streak_rule_progress_streak_id_seq', 1, false);


--
-- Name: rule_progress_times_rule_progress_single_id_seq; Type: SEQUENCE SET; Schema: public_temp; Owner: postgres
--

SELECT pg_catalog.setval('public_temp.rule_progress_times_rule_progress_single_id_seq', 1, false);


--
-- Name: rule_rule_id_seq; Type: SEQUENCE SET; Schema: public_temp; Owner: postgres
--

SELECT pg_catalog.setval('public_temp.rule_rule_id_seq', 3, true);


--
-- Name: rule_template_rule_template_id_seq; Type: SEQUENCE SET; Schema: public_temp; Owner: postgres
--

SELECT pg_catalog.setval('public_temp.rule_template_rule_template_id_seq', 2, true);


--
-- Name: trigger_template_integration_tempalte_id_seq; Type: SEQUENCE SET; Schema: public_temp; Owner: postgres
--

SELECT pg_catalog.setval('public_temp.trigger_template_integration_tempalte_id_seq', 17, true);


--
-- Name: trigger_trigger_id_seq; Type: SEQUENCE SET; Schema: public_temp; Owner: postgres
--

SELECT pg_catalog.setval('public_temp.trigger_trigger_id_seq', 31, true);


--
-- Name: trigger_type_trigger_type_id_seq; Type: SEQUENCE SET; Schema: public_temp; Owner: postgres
--

SELECT pg_catalog.setval('public_temp.trigger_type_trigger_type_id_seq', 1, false);


--
-- Name: user_activity_achievement_user_activity_achievement_id_seq; Type: SEQUENCE SET; Schema: public_temp; Owner: postgres
--

SELECT pg_catalog.setval('public_temp.user_activity_achievement_user_activity_achievement_id_seq', 2, true);


--
-- Name: user_activity_point_history_user_activity_point_history_id_seq; Type: SEQUENCE SET; Schema: public_temp; Owner: postgres
--

SELECT pg_catalog.setval('public_temp.user_activity_point_history_user_activity_point_history_id_seq', 1, false);


--
-- Name: user_activity_progress_user_activity_progress_id_seq; Type: SEQUENCE SET; Schema: public_temp; Owner: postgres
--

SELECT pg_catalog.setval('public_temp.user_activity_progress_user_activity_progress_id_seq', 1, false);


--
-- Name: user_activity_user_activity_id_seq; Type: SEQUENCE SET; Schema: public_temp; Owner: postgres
--

SELECT pg_catalog.setval('public_temp.user_activity_user_activity_id_seq', 1, true);


--
-- Name: user_user_id_seq; Type: SEQUENCE SET; Schema: public_temp; Owner: postgres
--

SELECT pg_catalog.setval('public_temp.user_user_id_seq', 1, true);


--
-- Name: action action_un; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.action
    ADD CONSTRAINT action_un UNIQUE (key);


--
-- Name: app_template app_template_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.app_template
    ADD CONSTRAINT app_template_pk PRIMARY KEY (app_template_id);


--
-- Name: app_user app_user_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.app_user
    ADD CONSTRAINT app_user_pkey PRIMARY KEY (app_user_id);


--
-- Name: achievement idx_16391_primary; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.achievement
    ADD CONSTRAINT idx_16391_primary PRIMARY KEY (achievement_id);


--
-- Name: app_user_activity_achievement idx_16400_primary; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.app_user_activity_achievement
    ADD CONSTRAINT idx_16400_primary PRIMARY KEY (app_user_activity_achievement_id);


--
-- Name: activity idx_16407_primary; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.activity
    ADD CONSTRAINT idx_16407_primary PRIMARY KEY (activity_id);


--
-- Name: action idx_16416_primary; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.action
    ADD CONSTRAINT idx_16416_primary PRIMARY KEY (action_id);


--
-- Name: app_user_activity idx_16425_primary; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.app_user_activity
    ADD CONSTRAINT idx_16425_primary PRIMARY KEY (app_user_activity_id);


--
-- Name: app_user_activity_point_history idx_16432_primary; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.app_user_activity_point_history
    ADD CONSTRAINT idx_16432_primary PRIMARY KEY (app_user_activity_point_history_id);


--
-- Name: rule idx_16438_primary; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.rule
    ADD CONSTRAINT idx_16438_primary PRIMARY KEY (rule_id);


--
-- Name: rule_progress_streak idx_16456_primary; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.rule_progress_streak
    ADD CONSTRAINT idx_16456_primary PRIMARY KEY (rule_progress_streak_id);


--
-- Name: rule_progress_times idx_16462_primary; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.rule_progress_times
    ADD CONSTRAINT idx_16462_primary PRIMARY KEY (rule_progress_single_id);


--
-- Name: trigger idx_16468_primary; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.trigger
    ADD CONSTRAINT idx_16468_primary PRIMARY KEY (trigger_id);


--
-- Name: trigger_type idx_16483_primary; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.trigger_type
    ADD CONSTRAINT idx_16483_primary PRIMARY KEY (trigger_type_id);


--
-- Name: user idx_16492_primary; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."user"
    ADD CONSTRAINT idx_16492_primary PRIMARY KEY (user_id);


--
-- Name: app idx_16500_primary; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.app
    ADD CONSTRAINT idx_16500_primary PRIMARY KEY (app_id);


--
-- Name: rule_template rule_template_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.rule_template
    ADD CONSTRAINT rule_template_pk PRIMARY KEY (rule_template_id);


--
-- Name: trigger_template trigger_template_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.trigger_template
    ADD CONSTRAINT trigger_template_pk PRIMARY KEY (trigger_template_id);


--
-- Name: trigger_type trigger_type_un; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.trigger_type
    ADD CONSTRAINT trigger_type_un UNIQUE (key);


--
-- Name: custom_unit unit_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.custom_unit
    ADD CONSTRAINT unit_pkey PRIMARY KEY (unit_id);


--
-- Name: app_user_activity_progress user_activity_progress_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.app_user_activity_progress
    ADD CONSTRAINT user_activity_progress_pkey PRIMARY KEY (app_user_activity_progress_id);


--
-- Name: action action_un; Type: CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.action
    ADD CONSTRAINT action_un UNIQUE (key);


--
-- Name: app_template app_template_pk; Type: CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.app_template
    ADD CONSTRAINT app_template_pk PRIMARY KEY (app_template_id);


--
-- Name: databasechangeloglock databasechangeloglock_pkey; Type: CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.databasechangeloglock
    ADD CONSTRAINT databasechangeloglock_pkey PRIMARY KEY (id);


--
-- Name: achievement idx_16391_primary; Type: CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.achievement
    ADD CONSTRAINT idx_16391_primary PRIMARY KEY (achievement_id);


--
-- Name: user_activity_achievement idx_16400_primary; Type: CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.user_activity_achievement
    ADD CONSTRAINT idx_16400_primary PRIMARY KEY (user_activity_achievement_id);


--
-- Name: activity idx_16407_primary; Type: CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.activity
    ADD CONSTRAINT idx_16407_primary PRIMARY KEY (activity_id);


--
-- Name: action idx_16416_primary; Type: CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.action
    ADD CONSTRAINT idx_16416_primary PRIMARY KEY (action_id);


--
-- Name: user_activity idx_16425_primary; Type: CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.user_activity
    ADD CONSTRAINT idx_16425_primary PRIMARY KEY (user_activity_id);


--
-- Name: user_activity_point_history idx_16432_primary; Type: CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.user_activity_point_history
    ADD CONSTRAINT idx_16432_primary PRIMARY KEY (user_activity_point_history_id);


--
-- Name: rule idx_16438_primary; Type: CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.rule
    ADD CONSTRAINT idx_16438_primary PRIMARY KEY (rule_id);


--
-- Name: rule_progress_streak idx_16456_primary; Type: CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.rule_progress_streak
    ADD CONSTRAINT idx_16456_primary PRIMARY KEY (rule_progress_streak_id);


--
-- Name: rule_progress_times idx_16462_primary; Type: CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.rule_progress_times
    ADD CONSTRAINT idx_16462_primary PRIMARY KEY (rule_progress_single_id);


--
-- Name: trigger idx_16468_primary; Type: CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.trigger
    ADD CONSTRAINT idx_16468_primary PRIMARY KEY (trigger_id);


--
-- Name: trigger_type idx_16483_primary; Type: CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.trigger_type
    ADD CONSTRAINT idx_16483_primary PRIMARY KEY (trigger_type_id);


--
-- Name: user idx_16492_primary; Type: CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp."user"
    ADD CONSTRAINT idx_16492_primary PRIMARY KEY (user_id);


--
-- Name: app idx_16500_primary; Type: CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.app
    ADD CONSTRAINT idx_16500_primary PRIMARY KEY (app_id);


--
-- Name: rule_template rule_template_pk; Type: CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.rule_template
    ADD CONSTRAINT rule_template_pk PRIMARY KEY (rule_template_id);


--
-- Name: trigger_template trigger_template_pk; Type: CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.trigger_template
    ADD CONSTRAINT trigger_template_pk PRIMARY KEY (trigger_template_id);


--
-- Name: trigger_type trigger_type_un; Type: CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.trigger_type
    ADD CONSTRAINT trigger_type_un UNIQUE (key);


--
-- Name: custom_unit unit_pkey; Type: CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.custom_unit
    ADD CONSTRAINT unit_pkey PRIMARY KEY (unit_id);


--
-- Name: user_activity_progress user_activity_progress_pkey; Type: CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.user_activity_progress
    ADD CONSTRAINT user_activity_progress_pkey PRIMARY KEY (user_activity_progress_id);


--
-- Name: idx_16400_achievement_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_16400_achievement_id ON public.app_user_activity_achievement USING btree (achievement_id);


--
-- Name: idx_16425_activity_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_16425_activity_id ON public.app_user_activity USING btree (activity_id);


--
-- Name: idx_16425_user_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_16425_user_id ON public.app_user_activity USING btree (app_user_id);


--
-- Name: idx_16432_activity_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_16432_activity_id ON public.app_user_activity_point_history USING btree (activity_id);


--
-- Name: idx_16432_user_activity_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_16432_user_activity_id ON public.app_user_activity_point_history USING btree (app_user_activity_id);


--
-- Name: idx_16438_action_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_16438_action_id ON public.rule USING btree (action_id);


--
-- Name: idx_16438_activity_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_16438_activity_id ON public.rule USING btree (activity_id);


--
-- Name: idx_16438_trigger_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_16438_trigger_id ON public.rule USING btree (trigger_id);


--
-- Name: idx_16438_trigger_type_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_16438_trigger_type_id ON public.rule USING btree (trigger_type_id);


--
-- Name: idx_16456_rule_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_16456_rule_id ON public.rule_progress_streak USING btree (rule_id);


--
-- Name: idx_16456_user_activity_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_16456_user_activity_id ON public.rule_progress_streak USING btree (user_activity_id);


--
-- Name: idx_16462_rule_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_16462_rule_id ON public.rule_progress_times USING btree (rule_id);


--
-- Name: idx_16462_user_activity_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_16462_user_activity_id ON public.rule_progress_times USING btree (user_activity_id);


--
-- Name: idx_16400_achievement_id; Type: INDEX; Schema: public_temp; Owner: postgres
--

CREATE INDEX idx_16400_achievement_id ON public_temp.user_activity_achievement USING btree (achievement_id);


--
-- Name: idx_16425_activity_id; Type: INDEX; Schema: public_temp; Owner: postgres
--

CREATE INDEX idx_16425_activity_id ON public_temp.user_activity USING btree (activity_id);


--
-- Name: idx_16425_user_id; Type: INDEX; Schema: public_temp; Owner: postgres
--

CREATE INDEX idx_16425_user_id ON public_temp.user_activity USING btree (user_id);


--
-- Name: idx_16432_activity_id; Type: INDEX; Schema: public_temp; Owner: postgres
--

CREATE INDEX idx_16432_activity_id ON public_temp.user_activity_point_history USING btree (activity_id);


--
-- Name: idx_16432_user_activity_id; Type: INDEX; Schema: public_temp; Owner: postgres
--

CREATE INDEX idx_16432_user_activity_id ON public_temp.user_activity_point_history USING btree (user_activity_id);


--
-- Name: idx_16438_activity_id; Type: INDEX; Schema: public_temp; Owner: postgres
--

CREATE INDEX idx_16438_activity_id ON public_temp.rule USING btree (activity_id);


--
-- Name: idx_16438_effect_id; Type: INDEX; Schema: public_temp; Owner: postgres
--

CREATE INDEX idx_16438_effect_id ON public_temp.rule USING btree (action_id);


--
-- Name: idx_16438_trigger_id; Type: INDEX; Schema: public_temp; Owner: postgres
--

CREATE INDEX idx_16438_trigger_id ON public_temp.rule USING btree (trigger_id);


--
-- Name: idx_16438_trigger_type_id; Type: INDEX; Schema: public_temp; Owner: postgres
--

CREATE INDEX idx_16438_trigger_type_id ON public_temp.rule USING btree (trigger_type_id);


--
-- Name: idx_16456_rule_id; Type: INDEX; Schema: public_temp; Owner: postgres
--

CREATE INDEX idx_16456_rule_id ON public_temp.rule_progress_streak USING btree (rule_id);


--
-- Name: idx_16456_user_activity_id; Type: INDEX; Schema: public_temp; Owner: postgres
--

CREATE INDEX idx_16456_user_activity_id ON public_temp.rule_progress_streak USING btree (user_activity_id);


--
-- Name: idx_16462_rule_id; Type: INDEX; Schema: public_temp; Owner: postgres
--

CREATE INDEX idx_16462_rule_id ON public_temp.rule_progress_times USING btree (rule_id);


--
-- Name: idx_16462_user_activity_id; Type: INDEX; Schema: public_temp; Owner: postgres
--

CREATE INDEX idx_16462_user_activity_id ON public_temp.rule_progress_times USING btree (user_activity_id);


--
-- Name: idx_16492_external_user_id; Type: INDEX; Schema: public_temp; Owner: postgres
--

CREATE UNIQUE INDEX idx_16492_external_user_id ON public_temp."user" USING btree (app_user_id);


--
-- Name: achievement achievement_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.achievement
    ADD CONSTRAINT achievement_fk FOREIGN KEY (activity_id) REFERENCES public.activity(activity_id);


--
-- Name: activity activity_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.activity
    ADD CONSTRAINT activity_fk FOREIGN KEY (app_id) REFERENCES public.app(app_id);


--
-- Name: app_template app_template_app_app_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.app_template
    ADD CONSTRAINT app_template_app_app_id_fk FOREIGN KEY (app_id) REFERENCES public.app(app_id);


--
-- Name: app_user_activity app_user_activity_ibfk_1; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.app_user_activity
    ADD CONSTRAINT app_user_activity_ibfk_1 FOREIGN KEY (app_user_id) REFERENCES public.app_user(app_user_id);


--
-- Name: app_user_activity app_user_activity_ibfk_2; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.app_user_activity
    ADD CONSTRAINT app_user_activity_ibfk_2 FOREIGN KEY (activity_id) REFERENCES public.activity(activity_id);


--
-- Name: app_user app_user_app_app_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.app_user
    ADD CONSTRAINT app_user_app_app_id_fk FOREIGN KEY (app_id) REFERENCES public.app(app_id);


--
-- Name: app app_user_user_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.app
    ADD CONSTRAINT app_user_user_id_fk FOREIGN KEY (created_by) REFERENCES public."user"(user_id);


--
-- Name: rule rule_ibfk_1; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.rule
    ADD CONSTRAINT rule_ibfk_1 FOREIGN KEY (activity_id) REFERENCES public.activity(activity_id);


--
-- Name: rule rule_ibfk_2; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.rule
    ADD CONSTRAINT rule_ibfk_2 FOREIGN KEY (trigger_id) REFERENCES public.trigger(trigger_id);


--
-- Name: rule rule_ibfk_3; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.rule
    ADD CONSTRAINT rule_ibfk_3 FOREIGN KEY (trigger_type_id) REFERENCES public.trigger_type(trigger_type_id);


--
-- Name: rule rule_ibfk_4; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.rule
    ADD CONSTRAINT rule_ibfk_4 FOREIGN KEY (action_id) REFERENCES public.action(action_id);


--
-- Name: rule_progress_streak rule_progress_streak_ibfk_1; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.rule_progress_streak
    ADD CONSTRAINT rule_progress_streak_ibfk_1 FOREIGN KEY (rule_id) REFERENCES public.rule(rule_id);


--
-- Name: rule_progress_streak rule_progress_streak_ibfk_2; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.rule_progress_streak
    ADD CONSTRAINT rule_progress_streak_ibfk_2 FOREIGN KEY (user_activity_id) REFERENCES public.app_user_activity(app_user_activity_id);


--
-- Name: rule_progress_times rule_progress_times_ibfk_1; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.rule_progress_times
    ADD CONSTRAINT rule_progress_times_ibfk_1 FOREIGN KEY (rule_id) REFERENCES public.rule(rule_id);


--
-- Name: rule_progress_times rule_progress_times_ibfk_2; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.rule_progress_times
    ADD CONSTRAINT rule_progress_times_ibfk_2 FOREIGN KEY (user_activity_id) REFERENCES public.app_user_activity(app_user_activity_id);


--
-- Name: rule_template rule_template_action_action_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.rule_template
    ADD CONSTRAINT rule_template_action_action_id_fk FOREIGN KEY (action_id) REFERENCES public.action(action_id);


--
-- Name: rule_template rule_template_app_app_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.rule_template
    ADD CONSTRAINT rule_template_app_app_id_fk FOREIGN KEY (app_id) REFERENCES public.app(app_id);


--
-- Name: rule_template rule_template_trigger_trigger_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.rule_template
    ADD CONSTRAINT rule_template_trigger_trigger_id_fk FOREIGN KEY (trigger_template_id) REFERENCES public.trigger_template(trigger_template_id);


--
-- Name: trigger trigger_app_app_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.trigger
    ADD CONSTRAINT trigger_app_app_id_fk FOREIGN KEY (app_id) REFERENCES public.app(app_id);


--
-- Name: trigger_template trigger_template_app_template_app_template_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.trigger_template
    ADD CONSTRAINT trigger_template_app_template_app_template_id_fk FOREIGN KEY (app_template_id) REFERENCES public.app_template(app_template_id);


--
-- Name: app_user_activity_achievement user_activity_achievement_ibfk_1; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.app_user_activity_achievement
    ADD CONSTRAINT user_activity_achievement_ibfk_1 FOREIGN KEY (achievement_id) REFERENCES public.achievement(achievement_id);


--
-- Name: app_user_activity_achievement user_activity_achievement_ibfk_2; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.app_user_activity_achievement
    ADD CONSTRAINT user_activity_achievement_ibfk_2 FOREIGN KEY (app_user_activity_id) REFERENCES public.app_user_activity(app_user_activity_id);


--
-- Name: app_user_activity_point_history user_activity_point_history_ibfk_1; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.app_user_activity_point_history
    ADD CONSTRAINT user_activity_point_history_ibfk_1 FOREIGN KEY (app_user_activity_id) REFERENCES public.app_user_activity(app_user_activity_id);


--
-- Name: app_user_activity_point_history user_activity_point_history_ibfk_2; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.app_user_activity_point_history
    ADD CONSTRAINT user_activity_point_history_ibfk_2 FOREIGN KEY (activity_id) REFERENCES public.activity(activity_id);


--
-- Name: app_user_activity_progress user_activity_progress_activity_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.app_user_activity_progress
    ADD CONSTRAINT user_activity_progress_activity_id_fkey FOREIGN KEY (activity_id) REFERENCES public.activity(activity_id);


--
-- Name: app_user_activity_progress user_activity_progress_unit_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.app_user_activity_progress
    ADD CONSTRAINT user_activity_progress_unit_id_fkey FOREIGN KEY (unit_id) REFERENCES public.custom_unit(unit_id);


--
-- Name: app_user_activity_progress user_activity_progress_user_activity_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.app_user_activity_progress
    ADD CONSTRAINT user_activity_progress_user_activity_id_fkey FOREIGN KEY (app_user_activity_id) REFERENCES public.app_user_activity(app_user_activity_id);


--
-- Name: achievement achievement_fk; Type: FK CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.achievement
    ADD CONSTRAINT achievement_fk FOREIGN KEY (activity_id) REFERENCES public_temp.activity(activity_id);


--
-- Name: activity activity_fk; Type: FK CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.activity
    ADD CONSTRAINT activity_fk FOREIGN KEY (app_id) REFERENCES public_temp.app(app_id);


--
-- Name: app external_system_user_user_id_fk; Type: FK CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.app
    ADD CONSTRAINT external_system_user_user_id_fk FOREIGN KEY (created_by) REFERENCES public_temp."user"(user_id);


--
-- Name: app_template integration_template_external_system_external_system_id_fk; Type: FK CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.app_template
    ADD CONSTRAINT integration_template_external_system_external_system_id_fk FOREIGN KEY (app_id) REFERENCES public_temp.app(app_id);


--
-- Name: rule rule_ibfk_1; Type: FK CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.rule
    ADD CONSTRAINT rule_ibfk_1 FOREIGN KEY (activity_id) REFERENCES public_temp.activity(activity_id);


--
-- Name: rule rule_ibfk_2; Type: FK CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.rule
    ADD CONSTRAINT rule_ibfk_2 FOREIGN KEY (trigger_id) REFERENCES public_temp.trigger(trigger_id);


--
-- Name: rule rule_ibfk_3; Type: FK CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.rule
    ADD CONSTRAINT rule_ibfk_3 FOREIGN KEY (trigger_type_id) REFERENCES public_temp.trigger_type(trigger_type_id);


--
-- Name: rule rule_ibfk_4; Type: FK CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.rule
    ADD CONSTRAINT rule_ibfk_4 FOREIGN KEY (action_id) REFERENCES public_temp.action(action_id);


--
-- Name: rule_progress_streak rule_progress_streak_ibfk_1; Type: FK CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.rule_progress_streak
    ADD CONSTRAINT rule_progress_streak_ibfk_1 FOREIGN KEY (rule_id) REFERENCES public_temp.rule(rule_id);


--
-- Name: rule_progress_streak rule_progress_streak_ibfk_2; Type: FK CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.rule_progress_streak
    ADD CONSTRAINT rule_progress_streak_ibfk_2 FOREIGN KEY (user_activity_id) REFERENCES public_temp.user_activity(user_activity_id);


--
-- Name: rule_progress_times rule_progress_times_ibfk_1; Type: FK CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.rule_progress_times
    ADD CONSTRAINT rule_progress_times_ibfk_1 FOREIGN KEY (rule_id) REFERENCES public_temp.rule(rule_id);


--
-- Name: rule_progress_times rule_progress_times_ibfk_2; Type: FK CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.rule_progress_times
    ADD CONSTRAINT rule_progress_times_ibfk_2 FOREIGN KEY (user_activity_id) REFERENCES public_temp.user_activity(user_activity_id);


--
-- Name: rule_template rule_template_action_effect_id_fk; Type: FK CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.rule_template
    ADD CONSTRAINT rule_template_action_effect_id_fk FOREIGN KEY (action_id) REFERENCES public_temp.action(action_id);


--
-- Name: rule_template rule_template_external_system_external_system_id_fk; Type: FK CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.rule_template
    ADD CONSTRAINT rule_template_external_system_external_system_id_fk FOREIGN KEY (app_id) REFERENCES public_temp.app(app_id);


--
-- Name: rule_template rule_template_trigger_trigger_id_fk; Type: FK CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.rule_template
    ADD CONSTRAINT rule_template_trigger_trigger_id_fk FOREIGN KEY (trigger_template_id) REFERENCES public_temp.trigger_template(trigger_template_id);


--
-- Name: trigger trigger_external_system_external_system_id_fk; Type: FK CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.trigger
    ADD CONSTRAINT trigger_external_system_external_system_id_fk FOREIGN KEY (app_id) REFERENCES public_temp.app(app_id);


--
-- Name: trigger_template trigger_template_app_template_app_template_id_fk; Type: FK CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.trigger_template
    ADD CONSTRAINT trigger_template_app_template_app_template_id_fk FOREIGN KEY (app_template_id) REFERENCES public_temp.app_template(app_template_id);


--
-- Name: user_activity_achievement user_activity_achievement_ibfk_1; Type: FK CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.user_activity_achievement
    ADD CONSTRAINT user_activity_achievement_ibfk_1 FOREIGN KEY (achievement_id) REFERENCES public_temp.achievement(achievement_id);


--
-- Name: user_activity_achievement user_activity_achievement_ibfk_2; Type: FK CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.user_activity_achievement
    ADD CONSTRAINT user_activity_achievement_ibfk_2 FOREIGN KEY (user_activity_id) REFERENCES public_temp.user_activity(user_activity_id);


--
-- Name: user_activity user_activity_ibfk_1; Type: FK CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.user_activity
    ADD CONSTRAINT user_activity_ibfk_1 FOREIGN KEY (user_id) REFERENCES public_temp."user"(user_id);


--
-- Name: user_activity user_activity_ibfk_2; Type: FK CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.user_activity
    ADD CONSTRAINT user_activity_ibfk_2 FOREIGN KEY (activity_id) REFERENCES public_temp.activity(activity_id);


--
-- Name: user_activity_point_history user_activity_point_history_ibfk_1; Type: FK CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.user_activity_point_history
    ADD CONSTRAINT user_activity_point_history_ibfk_1 FOREIGN KEY (user_activity_id) REFERENCES public_temp.user_activity(user_activity_id);


--
-- Name: user_activity_point_history user_activity_point_history_ibfk_2; Type: FK CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.user_activity_point_history
    ADD CONSTRAINT user_activity_point_history_ibfk_2 FOREIGN KEY (activity_id) REFERENCES public_temp.activity(activity_id);


--
-- Name: user_activity_progress user_activity_progress_activity_id_fkey; Type: FK CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.user_activity_progress
    ADD CONSTRAINT user_activity_progress_activity_id_fkey FOREIGN KEY (activity_id) REFERENCES public_temp.activity(activity_id);


--
-- Name: user_activity_progress user_activity_progress_unit_id_fkey; Type: FK CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.user_activity_progress
    ADD CONSTRAINT user_activity_progress_unit_id_fkey FOREIGN KEY (unit_id) REFERENCES public_temp.custom_unit(unit_id);


--
-- Name: user_activity_progress user_activity_progress_user_activity_id_fkey; Type: FK CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp.user_activity_progress
    ADD CONSTRAINT user_activity_progress_user_activity_id_fkey FOREIGN KEY (user_activity_id) REFERENCES public_temp.user_activity(user_activity_id);


--
-- Name: user user_ibfk_1; Type: FK CONSTRAINT; Schema: public_temp; Owner: postgres
--

ALTER TABLE ONLY public_temp."user"
    ADD CONSTRAINT user_ibfk_1 FOREIGN KEY (app_id) REFERENCES public_temp.app(app_id);


--
-- Name: SCHEMA public; Type: ACL; Schema: -; Owner: pg_database_owner
--

REVOKE USAGE ON SCHEMA public FROM PUBLIC;


--
-- PostgreSQL database dump complete
--

